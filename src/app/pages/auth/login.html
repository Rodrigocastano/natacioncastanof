<div *ngIf="loading"
     class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/40 backdrop-blur-sm">
  <div class="inline-block w-16 h-16 border-4 border-white/30 border-t-[#14b8a6] rounded-full animate-spin"></div>
  <p class="mt-6 text-white text-xl font-medium">Autenticando…</p>
</div>

<div class="bg-surface-50 dark:bg-surface-950 flex items-center justify-center min-h-screen min-w-[100vw] overflow-hidden">
    <div class="flex flex-col items-center justify-center">
        <div style="border-radius: 56px; padding: 0.3rem; background: linear-gradient">
            <div class="w-full bg-surface-0 dark:bg-surface-900 py-20 px-8 sm:px-20" style="border-radius: 53px">
                <div class="text-center mb-8">
                    <img src="assets/image/natacion-castano1.png" alt="logo Empresa" class="mx-auto w-48">

                    <div class="text-surface-900 dark:text-surface-0 text-3xl font-medium mb-4">Bienvenido a Natacion Castaño!</div>
                    <span class="text-muted-color font-medium">Inicia sesión para continuar</span>
                </div>
                
                <p-toast></p-toast>
                <form (ngSubmit)="login()">
                <div>
                    <label for="email" class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">Email</label>
                    <input pInputText id="email" name="email" autocomplete="email" type="text" placeholder="Email address" class="w-full md:w-[30rem] mb-8" [(ngModel)]="email"  name="email" type="email"  required/>
                    

                    <label for="password" class="block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2">Password</label>
                    <p-password required name="password" id="password" [(ngModel)]="password" placeholder="Password" [toggleMask]="true" styleClass="mb-4" [fluid]="true" [feedback]="false"></p-password>

                    <!-- <div class="mb-6 text-right">
                        <a href="/recuperar-contrasena" class="text-teal-600 hover:underline font-semibold cursor-pointer">
                            ¿Olvidaste tu contraseña?
                        </a>
                    </div> -->

                    <!-- Link para abrir modal -->
                    <div class="mb-6 text-right">
                    <a (click)="mostrarModalRecuperar = true" class="text-teal-600 hover:underline font-semibold cursor-pointer">
                        ¿Olvidaste tu contraseña?
                    </a>
                    </div>

                    <!-- Modal para recuperar contraseña -->
                    <p-dialog header="Recuperar contraseña" [(visible)]="mostrarModalRecuperar" [modal]="true" [closable]="true" [dismissableMask]="true" [style]="{width: '400px'}">
                    <form (ngSubmit)="recuperarContrasena()">
                        <div class="field mb-4">
                        <label for="emailRecuperar" class="block mb-2 font-semibold">Correo electrónico</label>
                        <input pInputText id="emailRecuperar" [(ngModel)]="emailRecuperar" name="emailRecuperar" required email placeholder="Tu correo electrónico" class="w-full" />
                        </div>
                        <div class="flex justify-end gap-2">
                        <button pButton type="button" label="Cancelar" class="p-button-text" (click)="mostrarModalRecuperar = false"></button>
                        <!-- <button pButton type="submit" label="Enviar" [disabled]="!emailRecuperar || !emailRecuperar.includes('@')"></button> -->
                         <button pButton type="submit" label="Enviar" [disabled]="!emailRecuperar || !emailRecuperar.includes('@')"></button>
                        </div>
                    </form>
                    </p-dialog>


                  <p-button label="Iniciar sesión" styleClass="w-full login-button" type="submit" [disabled]="loading"></p-button>

                </div>
                </form>
           
        </div>
    </div>
</div>