<div class="card p-4">
  <h2 class="text-center text-2xl font-bold mb-4" style="color: var(--text-color)">
    Controles Psicol贸gicos
  </h2>

  <p-table
    [value]="datosUsuario?.controlesPsicologicos"
    [paginator]="false"
    responsiveLayout="scroll"
    class="min-w-full"
  >
    <ng-template pTemplate="header">
      <tr style="background: var(--surface-900); color: var(--surface-0); font-weight: 600;">
        <th class="p-3 border text-left">Fecha</th>
        <th class="p-3 border text-left">Diagn贸stico</th>
        <th class="p-3 border text-center">Apto</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-control>
      <tr style="background: var(--surface-card); color: var(--text-color)">
        <td class="p-3 border text-left">{{ control.fecha | date: 'dd-MM-yyyy' }}</td>
<td class="p-3 border text-left" 
    style="max-width: 250px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
    [pTooltip]="control.diagnostico" tooltipPosition="top">
  {{ control.diagnostico || 'Sin diagn贸stico' }}
</td>


        <td class="p-3 border text-center">
          <span [ngStyle]="{ color: control.apto ? 'green' : 'red', 'font-weight': 'bold' }">
            {{ control.apto ? 'Apto' : 'No Apto' }}
          </span>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <div *ngIf="!datosUsuario?.controlesPsicologicos?.length"
       class="text-center mt-4"
       style="color: var(--text-color-secondary)">
    No hay controles psicol贸gicos registrados.
  </div>
</div>
