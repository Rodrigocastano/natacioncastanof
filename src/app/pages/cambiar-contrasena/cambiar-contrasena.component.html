<p-dialog 
  header="Cambiar Contraseña" 
  [(visible)]="displayModal" 
  [modal]="true" 
  [style]="{ width: '265px' }"
  [breakpoints]="{'960px': '90vw'}"
  [closable]="false" 
  [dismissableMask]="false"
  class="surface-card shadow-2 border-round">

  <form [formGroup]="passwordForm" (ngSubmit)="cambiarContrasena()" class="p-fluid p-formgrid p-grid p-4">
    
    <div class="p-field p-col-12">
      <label for="current_password" class="font-semibold text-900 mb-2 block">Contraseña Actual</label>
      <p-password
        id="current_password"
        formControlName="current_password"
        [toggleMask]="true"
        inputId="current_password_input"
        class="w-full border-round"
        feedback="false"
        promptLabel="Ingrese su contraseña actual"
        ariaLabel="Contraseña actual"
      ></p-password>
    </div>

    <div class="p-field p-col-12 mt-3">
      <label for="new_password" class="font-semibold text-900 mb-2 block">Nueva Contraseña</label>
      <p-password
        id="new_password"
        formControlName="new_password"
        [toggleMask]="true"
        inputId="new_password_input"
        class="w-full border-round"
        feedback="true"
        promptLabel="Ingrese su nueva contraseña"
        ariaLabel="Nueva contraseña"
      ></p-password>
    </div>

    <div class="p-field p-col-12 mt-3">
      <label for="new_password_confirmation" class="font-semibold text-900 mb-2 block">Confirmar Nueva Contraseña</label>
      <p-password
        id="new_password_confirmation"
        formControlName="new_password_confirmation"
        [toggleMask]="true"
        inputId="new_password_confirmation_input"
        class="w-full border-round"
        feedback="false"
        promptLabel="Confirme su nueva contraseña"
        ariaLabel="Confirmar nueva contraseña"
      ></p-password>
    </div>

    <div class="p-col-12 flex justify-content-end mt-5 gap-3">
      <p-button label="Cancelar" icon="pi pi-times" class="p-button-secondary" (onClick)="displayModal=false"></p-button>
      <p-button label="Guardar" icon="pi pi-check" type="submit" class="p-button-primary"></p-button>
    </div>
  </form>
</p-dialog>

<p-toast></p-toast>
